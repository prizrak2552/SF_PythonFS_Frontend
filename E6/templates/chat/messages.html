{% extends 'chat/chat.html' %}
{% load static %}
{% block hide %}{% endblock %}
{% block styles %}
<!--Import materialize.css-->
<link type="text/css" rel="stylesheet" href="{% static 'css/materialize.min.css' %}" media="screen,projection" />

{%endblock styles %}
{% block messages %}
{% for message in messages %}
{% if message.sender == request.user %}
<div class="card-panel right" style="width: 75%; position: relative">
  <div style="position: absolute; top: 0; left:3px; font-weight: bolder" class="title">You</div>
  {{ message }}
</div>
{% else %}
<div class="card-panel left blue lighten-5" style="width: 75%; position: relative">
  <div style="position: absolute; top: 0; left:3px; font-weight: bolder" class="title">{{ message.sender }}</div>
  {{ message }}
</div>
{% endif %}
{% endfor %}

<!-- setInterval(receive, 1000) -->
<script>
  receiver_id = "{{receiver.id }}"
  document.querySelector(`#user${receiver_id}`).classList.add('active')
  setInterval(receive, 1000)
</script>
<!-- wsReceiver() -->
{% endblock %}